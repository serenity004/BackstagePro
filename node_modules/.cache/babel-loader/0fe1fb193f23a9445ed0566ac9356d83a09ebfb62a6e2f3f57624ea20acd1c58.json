{"ast":null,"code":"import React,{useState,useEffect}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DisplayScreen=_ref=>{let{timeData:propTimeData}=_ref;const[currentTime,setCurrentTime]=useState(0);const[isTimeUp,setIsTimeUp]=useState(false);const[timeData,setTimeData]=useState(propTimeData);useEffect(()=>{const handleTimerUpdate=newTimeData=>{setTimeData(newTimeData);setCurrentTime(newTimeData.currentTime);setIsTimeUp(newTimeData.isTimeUp);};if(window.electron){window.electron.onTimerUpdate(handleTimerUpdate);}return()=>{if(window.electron){window.electron.removeListeners();}};},[]);useEffect(()=>{if(propTimeData){setTimeData(propTimeData);}},[propTimeData]);useEffect(()=>{if(!timeData)return;const interval=setInterval(()=>{const now=Date.now();const elapsed=Math.floor((now-timeData.startTime)/1000);const remaining=timeData.totalSeconds-elapsed;if(remaining<=0){setIsTimeUp(true);if(timeData.countUp){setCurrentTime(Math.abs(remaining));}else{setCurrentTime(0);}}else{setIsTimeUp(false);setCurrentTime(remaining);}},100);return()=>clearInterval(interval);},[timeData]);const formatTime=time=>{const minutes=Math.floor(time/60);const seconds=time%60;return\"\".concat(minutes.toString().padStart(2,'0'),\":\").concat(seconds.toString().padStart(2,'0'));};if(!timeData){return/*#__PURE__*/_jsxs(\"div\",{className:\"h-screen bg-black text-white flex flex-col items-center justify-center\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-8xl mb-4 font-['Digital-7']\",children:\"Welcome to Church\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-4xl text-gray-400 font-['Digital-7']\",children:\"Waiting for timer...\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"h-screen bg-black text-white flex flex-col items-center justify-center p-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-[120px] leading-tight mb-12 text-center px-4 font-bold tracking-tight\",style:{fontFamily:'Helvetica Neue, Arial, sans-serif',textShadow:'0 0 20px rgba(255,255,255,0.2)'},children:timeData.title}),isTimeUp&&!timeData.countUp?/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-[350px] leading-none text-[#FF0000] font-sans font-black animate-pulse\",style:{letterSpacing:'8px',textShadow:'0 0 20px rgba(255,0,0,0.2)'},children:\"TIME UP\"})}):/*#__PURE__*/_jsx(\"div\",{className:\"font-['Digital-7'] text-[700px] leading-none mb-8 \".concat(timeData.countUp&&isTimeUp?'text-[#FF0000]':''),style:{letterSpacing:'8px',textShadow:'0 0 20px rgba(255,255,255,0.2)'},children:formatTime(currentTime)}),isTimeUp&&timeData.countUp&&/*#__PURE__*/_jsx(\"div\",{className:\"text-6xl text-[#FF0000] font-['Digital-7']\",children:\"Time elapsed\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute bottom-8 left-8 text-2xl text-gray-500\",children:new Date().toLocaleTimeString()}),window.electron&&/*#__PURE__*/_jsxs(\"div\",{className:\"absolute top-8 right-8 flex space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.electron.minimizeWindow(),className:\"text-gray-500 hover:text-white transition-colors duration-200\",children:\"_\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.electron.maximizeWindow(),className:\"text-gray-500 hover:text-white transition-colors duration-200\",children:\"\\u25A1\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.electron.closeWindow(),className:\"text-gray-500 hover:text-white transition-colors duration-200\",children:\"\\xD7\"})]})]});};export default DisplayScreen;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","DisplayScreen","_ref","timeData","propTimeData","currentTime","setCurrentTime","isTimeUp","setIsTimeUp","setTimeData","handleTimerUpdate","newTimeData","window","electron","onTimerUpdate","removeListeners","interval","setInterval","now","Date","elapsed","Math","floor","startTime","remaining","totalSeconds","countUp","abs","clearInterval","formatTime","time","minutes","seconds","concat","toString","padStart","className","children","style","fontFamily","textShadow","title","letterSpacing","toLocaleTimeString","onClick","minimizeWindow","maximizeWindow","closeWindow"],"sources":["C:/Users/JOSHUA/backstage-pro/src/components/DisplayScreen.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\nconst DisplayScreen = ({ timeData: propTimeData }) => {\r\n  const [currentTime, setCurrentTime] = useState(0);\r\n  const [isTimeUp, setIsTimeUp] = useState(false);\r\n  const [timeData, setTimeData] = useState(propTimeData);\r\n\r\n  useEffect(() => {\r\n    const handleTimerUpdate = (newTimeData) => {\r\n      setTimeData(newTimeData);\r\n      setCurrentTime(newTimeData.currentTime);\r\n      setIsTimeUp(newTimeData.isTimeUp);\r\n    };\r\n\r\n    if (window.electron) {\r\n      window.electron.onTimerUpdate(handleTimerUpdate);\r\n    }\r\n\r\n    return () => {\r\n      if (window.electron) {\r\n        window.electron.removeListeners();\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (propTimeData) {\r\n      setTimeData(propTimeData);\r\n    }\r\n  }, [propTimeData]);\r\n\r\n  useEffect(() => {\r\n    if (!timeData) return;\r\n\r\n    const interval = setInterval(() => {\r\n      const now = Date.now();\r\n      const elapsed = Math.floor((now - timeData.startTime) / 1000);\r\n      const remaining = timeData.totalSeconds - elapsed;\r\n\r\n      if (remaining <= 0) {\r\n        setIsTimeUp(true);\r\n        if (timeData.countUp) {\r\n          setCurrentTime(Math.abs(remaining));\r\n        } else {\r\n          setCurrentTime(0);\r\n        }\r\n      } else {\r\n        setIsTimeUp(false);\r\n        setCurrentTime(remaining);\r\n      }\r\n    }, 100);\r\n\r\n    return () => clearInterval(interval);\r\n  }, [timeData]);\r\n\r\n  const formatTime = (time) => {\r\n    const minutes = Math.floor(time / 60);\r\n    const seconds = time % 60;\r\n    return `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;\r\n  };\r\n\r\n  if (!timeData) {\r\n    return (\r\n      <div className=\"h-screen bg-black text-white flex flex-col items-center justify-center\">\r\n        <h1 className=\"text-8xl mb-4 font-['Digital-7']\">Welcome to Church</h1>\r\n        <p className=\"text-4xl text-gray-400 font-['Digital-7']\">Waiting for timer...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"h-screen bg-black text-white flex flex-col items-center justify-center p-8\">\r\n      <h2 \r\n        className=\"text-[120px] leading-tight mb-12 text-center px-4 font-bold tracking-tight\" \r\n        style={{\r\n          fontFamily: 'Helvetica Neue, Arial, sans-serif',\r\n          textShadow: '0 0 20px rgba(255,255,255,0.2)'\r\n        }}\r\n      >\r\n        {timeData.title}\r\n      </h2>\r\n      {isTimeUp && !timeData.countUp ? (\r\n        <div className=\"flex flex-col items-center justify-center\">\r\n          <div \r\n            className=\"text-[350px] leading-none text-[#FF0000] font-sans font-black animate-pulse\"\r\n            style={{\r\n              letterSpacing: '8px',\r\n              textShadow: '0 0 20px rgba(255,0,0,0.2)'\r\n            }}\r\n          >\r\n            TIME UP\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <div\r\n        className={`font-['Digital-7'] text-[700px] leading-none mb-8 ${\r\n          timeData.countUp && isTimeUp ? 'text-[#FF0000]' : ''\r\n        }`}\r\n        style={{\r\n          letterSpacing: '8px',\r\n          textShadow: '0 0 20px rgba(255,255,255,0.2)'\r\n        }}\r\n      >\r\n        {formatTime(currentTime)}\r\n      </div>\r\n    )}\r\n    {isTimeUp && timeData.countUp && (\r\n      <div className=\"text-6xl text-[#FF0000] font-['Digital-7']\">\r\n        Time elapsed\r\n      </div>\r\n    )}\r\n    <div className=\"absolute bottom-8 left-8 text-2xl text-gray-500\">\r\n      {new Date().toLocaleTimeString()}\r\n    </div>\r\n    {window.electron && (\r\n      <div className=\"absolute top-8 right-8 flex space-x-4\">\r\n        <button\r\n          onClick={() => window.electron.minimizeWindow()}\r\n          className=\"text-gray-500 hover:text-white transition-colors duration-200\"\r\n        >\r\n          _\r\n        </button>\r\n        <button\r\n          onClick={() => window.electron.maximizeWindow()}\r\n          className=\"text-gray-500 hover:text-white transition-colors duration-200\"\r\n        >\r\n          □\r\n        </button>\r\n        <button\r\n          onClick={() => window.electron.closeWindow()}\r\n          className=\"text-gray-500 hover:text-white transition-colors duration-200\"\r\n        >\r\n          ×\r\n        </button>\r\n      </div>\r\n    )}\r\n  </div>\r\n);\r\n};\r\n\r\nexport default DisplayScreen;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}